<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{user/layout/default}">
	<th:block layout:fragment="customContents">
  
 <!-- ================ start banner area ================= -->
  <section class="page-banner-area" id="category">
    <div class="container h-100">
        <div class="text-center">
          <h1>폐기컵 등록</h1>
          <nav aria-label="breadcrumb" class="banner-breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="/"><span class="fe fe-16 fe-home"></span></a></li>
              <li class="breadcrumb-item"><span class="fe fe-16 fe-chevron-right"></span></li>
              <li class="breadcrumb-item active" aria-current="page">폐기컵 등록</li>
            </ol>
          </nav>
      </div>
    </div>
  </section>
 
	  <!-- ================ end banner area ================= -->

  <!--================Point table Area =================-->
  
   <section class="order_details section-margin--small">
    <div class="container">
    <div class="download-file-discardForm">
		<table class="table">
			<thead>
				<tr>
					<th  colspan="3">
					<p>다운 받아 <mark>서식에 맞게</mark> 작성 후 업로드 부탁드립니다💙</p>
					</th>
				</tr>
			</thead>
			<tbody>
				<tr  th:if="${not #lists.isEmpty(fileList)}" th:each="l, index : ${fileList}">
					<td th:text="${index.count}"></td>
					<td th:text="${l.fileOriginalName}"></td>
					<td class="td-class-file">
						<a class="btn mb-2 btn-light" th:href="@{/admin/cup/file/download(fileIdx=${l.fileIdx})}">다운로드</a>
					</td>
				</tr>
				<tr th:unless="${not #lists.isEmpty(fileList)}">
					<td colspan="4">목록이 없습니다.</td>
				</tr>
			</tbody>
		</table>
	</div>
      <div class="order_details_table">
        <h2>Discard Cup Upload</h2>
        <div class="table-responsive">
        <form id="discardform" th:action="@{/partner/excel/fileupload}" method="post" enctype="multipart/form-data">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">폐기컵 업로드</th>
                <th scope="col"></th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="washDiscardCup">
                	<input type="file" name="excelFile" id="example-fileinput" class="form-control-file">
                </td>
                <td>
                </td>
                <td>
                	<button type="submit" class="btn mb-2 btn-outline-success" id="commitBtn"><span class="fe fe-upload-cloud fe-16"></span></button>    
                </td>
              </tr>
              <tr>
                <td>
           			<h5></h5>
                </td>
                <td>
                	<h5></h5>
                </td>
                <td>
                	<h5></h5>
                </td>
              </tr>
            </tbody>
          </table> 
          <table class="order_details_table">
             <thead>
                 <tr>
                   <th>NO.</th>
                  	<th>사업장 코드</th>
                   <th>컵 QR</th>
                   <th>업데이트 날짜</th>
                 </tr>
               </thead>
               <tbody>
               		<th:block th:unless="${#lists.isEmpty(discardCupList)}"  th:each="d : ${discardCupList}">
                   		<tr>
		                     <td th:text="${d.num}"></td>
		                     <td th:text="${d.partnerInfo}"></td>
		                     <td th:text="${d.cupQR}"></td>
		                     <td th:text="${d.upDateTime}"></td>
                   		</tr>
                 	</th:block>
                      	<tr th:if="${#lists.isEmpty(discardCupList)}">
				<td colspan="4">폐기컵이 없습니다.</td>
			</tr>
                    </tbody>
                        <tfoot>
							<tr>
								<td colspan="6">
									<a class="pages btn mb-2 btn-secondary" th:href="@{/admin/cup/discardCupManage}">처음으로</a>
									<a class="btn mb-2 btn-secondary" th:if="${currentPage>1}" th:href="@{/admin/cup/discardCupManage(currentPage=${currentPage-1})}">이전</a>
									<label class="btn mb-2 btn-secondary" th:unless="${currentPage>1}">이전</label>
										<div class="btn-group mr-2" role="group" aria-label="First group">
											<th:block th:each="num : ${#numbers.sequence(startPageNum,endPageNum)}" >
												<a class="btn mb-2 btn-secondary " th:if="${currentPage != num}" th:href="@{/admin/cup/discardCupManage(currentPage=${num})}" th:text="${num}"></a>
												<label class="btn mb-2 btn-secondary current-page-btn" th:if="${currentPage == num}" th:text="${num}"></label>
											</th:block>
										</div>				
									<a class="btn mb-2 btn-secondary" th:if="${currentPage<lastPage}" th:href="@{/admin/cup/discardCupManage(currentPage=${currentPage+1})}">다음</a>
									<label class="btn mb-2 btn-secondary" th:unless="${currentPage<lastPage}">다음</label>
									<a class="pages btn mb-2 btn-secondary" th:href=@{/admin/cup/discardCupManage(currentPage=${lastPage})}>마지막으로</a>
								</td>
							</tr>
						</tfoot>
                      </table>
         </form>
        </div>
      </div>
    </div>
  </section>
  <!--================End Order Details Area =================-->

   </th:block>
   	<th:block layout:fragment="customJs">
		<script type="text/javascript" th:inline="javascript">
		let msg = '[[${msg}]]';
		console.log(msg);
		if(msg != 'null') alert(msg);
		</script>
	</th:block>
</html>